<mat-card>
  <mat-card-header>
    <mat-card-title>Active Jobs</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    @for (job of jobs; track job.id) {
      <div class="flex items-center p-3 mb-2 rounded border border-gray-200">
        <div class="flex-1">
          <div class="font-medium">{{ job.name }}</div>
          <div class="text-sm text-gray-500">{{ job.format | uppercase }} - {{ job.status }}</div>
          <mat-progress-bar
            [mode]="job.status === 'queued' ? 'indeterminate' : 'determinate'"
            [value]="job.progress"
            class="mt-2">
          </mat-progress-bar>
          <div class="text-xs text-gray-400 mt-1">{{ job.progress }}%</div>
        </div>
        <button mat-icon-button color="warn"
          (click)="cancelJob.emit(job.id!)"
          matTooltip="Cancel">
          <mat-icon>cancel</mat-icon>
        </button>
      </div>
    }
  </mat-card-content>
</mat-card>
