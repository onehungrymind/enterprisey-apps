<!-- Hero Section -->
<section class="hero">
  <div class="badge">Workshop · Enterprise Architecture Patterns</div>
  <h1 class="hero-title">
    Build Better Apps.
    <span class="hero-accent">Build Enterprise Apps.</span>
  </h1>
  <p class="hero-subtitle">
    Micro-frontends, Module Federation, service discovery, and NestJS microservices —
    all wired together in an Nx monorepo with Angular 21 and NgRx Signal Store.
  </p>
</section>

<!-- Feature Cards - Top Row (3 cards) -->
<section class="feature-grid top-row">
  @for (feature of topRowCards(); track feature.id; let i = $index) {
    <a
      [routerLink]="'/' + feature.id"
      class="feature-card"
      [class.hovered]="hoveredFeature() === feature.id"
      [style.--card-accent]="'var(' + feature.accentVar + ')'"
      [style.--card-subtle]="'var(' + feature.subtleVar + ')'"
      [style.animation-delay]="(0.1 + i * 0.08) + 's'"
      (mouseenter)="hoveredFeature.set(feature.id)"
      (mouseleave)="hoveredFeature.set(null)"
    >
      <div class="card-gradient"></div>

      <div class="card-header">
        <div class="card-icon">{{ feature.icon }}</div>
        <div class="card-titles">
          <div class="card-name">{{ feature.name }}</div>
          <div class="card-subtitle">{{ feature.subtitle }}</div>
        </div>
        <div class="card-status">
          <ui-status-dot [status]="feature.status" />
        </div>
      </div>

      <p class="card-description">{{ feature.description }}</p>

      <div class="card-stats">
        @for (stat of feature.stats; track stat.label) {
          <div class="stat">
            <div class="stat-label">{{ stat.label }}</div>
            <div class="stat-value">{{ stat.value }}</div>
          </div>
        }
      </div>

      <div class="card-port">:{{ feature.port }}</div>
    </a>
  }
</section>

<!-- Feature Cards - Bottom Row (2 cards, centered) -->
<section class="feature-grid bottom-row">
  @for (feature of bottomRowCards(); track feature.id; let i = $index) {
    <a
      [routerLink]="'/' + feature.id"
      class="feature-card"
      [class.hovered]="hoveredFeature() === feature.id"
      [style.--card-accent]="'var(' + feature.accentVar + ')'"
      [style.--card-subtle]="'var(' + feature.subtleVar + ')'"
      [style.animation-delay]="(0.35 + i * 0.08) + 's'"
      (mouseenter)="hoveredFeature.set(feature.id)"
      (mouseleave)="hoveredFeature.set(null)"
    >
      <div class="card-gradient"></div>

      <div class="card-header">
        <div class="card-icon">{{ feature.icon }}</div>
        <div class="card-titles">
          <div class="card-name">{{ feature.name }}</div>
          <div class="card-subtitle">{{ feature.subtitle }}</div>
        </div>
        <div class="card-status">
          <ui-status-dot [status]="feature.status" />
        </div>
      </div>

      <p class="card-description">{{ feature.description }}</p>

      <div class="card-stats">
        @for (stat of feature.stats; track stat.label) {
          <div class="stat">
            <div class="stat-label">{{ stat.label }}</div>
            <div class="stat-value">{{ stat.value }}</div>
          </div>
        }
      </div>

      <div class="card-port">:{{ feature.port }}</div>
    </a>
  }
</section>

<!-- Architecture & Activity Section -->
<section class="bottom-panels">
  <!-- Architecture Diagram -->
  <div class="panel architecture-panel">
    <div class="panel-title">Platform Architecture</div>
    <div class="architecture-flow">
      @for (node of architectureNodes; track node.label; let last = $last) {
        <div class="arch-node">
          <div class="arch-box" [style.--node-color]="'var(' + node.colorVar + ')'">
            {{ node.abbr }}
          </div>
          <div class="arch-label">{{ node.label }}</div>
          <div class="arch-sub">{{ node.subLabel }}</div>
        </div>
        @if (!last) {
          <div class="arch-arrow">
            <svg width="30" height="12">
              <path d="M0 6 L24 6 M20 2 L26 6 L20 10" fill="none" stroke="var(--border-strong)" stroke-width="1.5"/>
            </svg>
          </div>
        }
      }
    </div>
    <div class="arch-footer">features-api :3000 · Module Federation · Nx Monorepo</div>
  </div>

  <!-- Activity Feed -->
  <div class="panel activity-panel">
    <div class="panel-title">Live Activity</div>
    <div class="activity-list">
      @for (item of activityFeed; track item.time + item.event; let i = $index) {
        <div class="activity-row" [style.animation-delay]="(i * 0.04) + 's'">
          <span class="activity-dot" [style.background]="'var(' + item.colorVar + ')'"></span>
          <div class="activity-content">{{ item.event }}</div>
          <span class="activity-time">{{ item.time }}</span>
        </div>
      }
    </div>
  </div>
</section>

<!-- Tech Stack Footer -->
<section class="tech-stack">
  @for (tech of techStack; track tech) {
    <span class="tech-badge">{{ tech }}</span>
  }
</section>
