<div class="shell">
  <!-- Navigation -->
  <nav class="nav-bar">
    <div class="nav-left">
      <a routerLink="/" class="logo">
        <div class="logo-mark">E</div>
        <span class="logo-text">
          <span class="logo-accent">Enterprisey</span>
          <span class="logo-sub">Apps</span>
        </span>
      </a>

      <div class="nav-links">
        <a
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          class="nav-item"
          [style.--item-accent]="'var(--accent-dashboard)'"
          [style.--item-subtle]="'var(--accent-dashboard-subtle)'"
        >
          Home
        </a>
        @for (item of featureNavItems(); track item.id) {
          <a
            [routerLink]="'/' + item.slug"
            routerLinkActive="active"
            class="nav-item"
            [style.--item-accent]="'var(' + item.accentVar + ')'"
            [style.--item-subtle]="'var(' + item.subtleVar + ')'"
          >
            {{ item.name }}
          </a>
        }
      </div>
    </div>

    <div class="nav-right">
      <div class="status-time">
        <ui-status-dot [status]="allHealthy() ? 'healthy' : 'degraded'" />
        <span class="time">{{ formatTime(currentTime()) }}</span>
      </div>

      <a
        href="http://localhost:4300/health"
        target="_blank"
        class="health-btn"
      >
        â—‰ Health
      </a>

      <ui-theme-toggle />

      @if (isAuthenticated()) {
        <div class="user-menu">
          <div class="user-avatar">{{ getUserInitials() }}</div>
          <button class="logout-btn" (click)="logout()">Sign out</button>
        </div>
      }
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <router-outlet />
  </main>
</div>
